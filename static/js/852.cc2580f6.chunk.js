"use strict";(self.webpackChunkworld_map=self.webpackChunkworld_map||[]).push([[852],{6852:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var l=t(5043),r=t(3969),i=t(9806),a=t(4799),s=t(5895),o=t(2097),c=t(6020),d=t(4820),h=t(579);const u=[{name:"Basic: ASDF JKL;",lines:Array(10).fill(null).map((()=>Array(10).fill("asdf jkl;").join(" ")))},{name:"Basic: QWERTY UIOP",lines:Array(10).fill(null).map((()=>Array(10).fill("qwerty uiop").join(" ")))},{name:"Basic: ZXCV BN",lines:Array(10).fill(null).map((()=>Array(10).fill("zxcv bn").join(" ")))},{name:"Basic: Numbers",lines:Array(10).fill(null).map((()=>Array(10).fill("12345 67890").join(" ")))},{name:"Advanced: Mixed Case",lines:Array(10).fill(null).map((()=>Array(10).fill(null).map((()=>Math.random()<.5?"Hello World":"hello world")).join(" ")))},{name:"Advanced: Punctuation",lines:Array(10).fill(null).map((()=>Array(10).fill("Hello, World! How's it going?").join(" ")))}];function x(e,n){let t=0;for(let l=0;l<n.length;l++)n[l]===e[l]&&t++;return{correct:t,total:e.length,percent:(t/e.length*100).toFixed(1)}}const f=function(){const[e,n]=(0,l.useState)(0),[t,f]=(0,l.useState)(0),[m,g]=(0,l.useState)(Array(10).fill("")),[p,b]=(0,l.useState)(!1),[j,A]=(0,l.useState)(!1),[y,v]=(0,l.useState)(null),[S,w]=(0,l.useState)(0),[k,C]=(0,l.useState)(null),F=(0,l.useRef)();(0,l.useEffect)((()=>{let e=null;return p&&!j&&(e=setInterval((()=>w(Date.now()-y)),100)),()=>clearInterval(e)}),[p,j,y]),(0,l.useEffect)((()=>{F.current&&F.current.focus()}),[t,j]);const R=()=>{m[t].length===u[e].lines[t].length&&(t<u[e].lines.length-1?f(t+1):I())},I=()=>{A(!0),b(!1);const n=(Date.now()-y)/1e3;let t=0,l=0,r=0;for(let s=0;s<u[e].lines.length;s++){const{correct:n,total:i}=x(u[e].lines[s],m[s]);t+=n,l+=i,r+=m[s].length}var i,a;C({accuracy:(t/l*100).toFixed(1),wpm:(i=r,a=n,a>0?(i/5/(a/60)).toFixed(2):"0"),time:n.toFixed(2),totalCorrect:t,totalChars:l})};return(0,h.jsx)(i.A,{maxWidth:"md",sx:{mt:6},children:(0,h.jsxs)(a.A,{elevation:4,sx:{p:4},children:[(0,h.jsxs)(s.A,{variant:"h4",align:"center",gutterBottom:!0,children:["Typing Tutor: ",u[e].name]}),u.map(((t,l)=>(0,h.jsx)(o.A,{variant:e===l?"contained":"outlined",onClick:()=>(e=>{n(e),f(0),g(Array(10).fill("")),b(!1),A(!1),v(null),w(0),C(null)})(l),sx:{mr:2},children:t.name},l))),(0,h.jsx)(c.A,{variant:"determinate",value:t/u[e].lines.length*100,sx:{mb:4,height:10,borderRadius:5}}),(0,h.jsx)(s.A,{variant:"h6",align:"center",sx:{mb:2},children:p&&!j?(0,h.jsxs)(h.Fragment,{children:["Timer: ",(0,h.jsxs)("b",{children:[(S/1e3).toFixed(1),"s"]})]}):j&&k?(0,h.jsxs)(h.Fragment,{children:["Time: ",(0,h.jsxs)("b",{children:[k.time,"s"]})]}):(0,h.jsxs)(h.Fragment,{children:["Timer: ",(0,h.jsx)("b",{children:"0.0s"})]})}),!j&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.A,{variant:"subtitle1",sx:{fontWeight:"bold",mb:1},children:["Line ",t+1," of"," ",u[e].lines.length]}),(0,h.jsx)(r.A,{sx:{mb:2,p:2,minHeight:52,background:"#f5f5f5",borderRadius:2,fontFamily:"monospace",overflowX:"auto",fontSize:22,letterSpacing:1.5},children:function(e,n,t){const l=e.split(" "),{wordIdx:i,letterIdx:a}=function(e,n){const t=e.split(" ");let l=n.length;for(let r=0;r<t.length;r++){const e=t[r];if(l<=e.length)return{wordIdx:r,letterIdx:l};l-=e.length+1}return{wordIdx:t.length-1,letterIdx:t[t.length-1].length}}(e,n);let s=0,o=n.split("");return(0,h.jsx)(r.A,{sx:{fontSize:22,fontFamily:"monospace",userSelect:"none"},children:l.map(((e,n)=>{const r=!t&&n===i;let c=[];for(let l=0;l<e.length;l++){const r=!t&&n===i&&l===a;let d="#222";o[s]&&o[s]!==e[l]&&(d="#d32f2f"),r&&(d="#1976d2"),c.push((0,h.jsx)("span",{style:{fontWeight:r?"bold":"normal",color:d,background:r?"#bbdefb":"",borderRadius:3,padding:"1px 2px"},children:e[l]},l)),s++}if(n<l.length-1){const l=!t&&n===i&&a===e.length;let r="#222";o[s]&&" "!==o[s]&&(r="#d32f2f"),l&&(r="#1976d2"),c.push((0,h.jsx)("span",{style:{fontWeight:l?"bold":"normal",color:r,background:l?"#bbdefb":"",borderRadius:3,padding:"1px 2px"},children:"\xa0"},"space")),s++}return(0,h.jsx)("span",{style:{background:r?"#e3f2fd":"transparent",borderRadius:4,marginRight:4,padding:"0 2px",display:"inline-block"},children:c},n)}))})}(u[e].lines[t],m[t],j)}),(0,h.jsx)(d.A,{inputRef:F,fullWidth:!0,variant:"outlined",value:m[t],onChange:n=>{const l=n.target.value;if(!p&&l.length>0&&(b(!0),v(Date.now())),l.length<=u[e].lines[t].length){const e=[...m];e[t]=l,g(e)}},onKeyDown:e=>{"Enter"!==e.key||j||(e.preventDefault(),R())},autoFocus:!0,placeholder:"Type line ".concat(t+1," and press Enter for next"),inputProps:{maxLength:u[e].lines[t].length,style:{fontFamily:"monospace",fontSize:18,letterSpacing:1.5},spellCheck:"false"},sx:{mb:2,bgcolor:"#fff"},disabled:j}),(0,h.jsx)(r.A,{textAlign:"center",sx:{mt:2},children:t<u[e].lines.length-1?(0,h.jsx)(o.A,{variant:"contained",color:"primary",sx:{px:5,py:1.5,fontSize:18,mt:1},onClick:R,disabled:m[t].length!==u[e].lines[t].length,children:"Next Line"}):(0,h.jsx)(o.A,{variant:"contained",color:"primary",sx:{px:5,py:1.5,fontSize:18,mt:1},onClick:I,disabled:m[t].length!==u[e].lines[t].length,children:"Submit"})})]}),j&&k&&(0,h.jsxs)(r.A,{sx:{mt:3,textAlign:"center"},children:[(0,h.jsx)(s.A,{variant:"h5",sx:{mb:2},children:(0,h.jsx)("b",{children:"Report"})}),(0,h.jsxs)(s.A,{variant:"body1",children:[(0,h.jsx)("b",{children:"Time:"})," ",k.time," seconds"]}),(0,h.jsxs)(s.A,{variant:"body1",children:[(0,h.jsx)("b",{children:"Accuracy:"})," ",k.accuracy,"%"]}),(0,h.jsxs)(s.A,{variant:"body1",children:[(0,h.jsx)("b",{children:"WPM:"})," ",k.wpm]}),(0,h.jsxs)(s.A,{variant:"body1",children:[(0,h.jsx)("b",{children:"Correct Characters:"})," ",k.totalCorrect," /"," ",k.totalChars]})]})]})})}}}]);
//# sourceMappingURL=852.cc2580f6.chunk.js.map